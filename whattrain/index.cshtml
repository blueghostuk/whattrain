@using System.Web.Optimization;
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>whattrain.co.uk</title>

    @Styles.Render("~/Content/css")
    @{
        var adSenseCode = System.Configuration.ConfigurationManager.AppSettings["ad_sense_code"];
        var adSenseUrl = System.Configuration.ConfigurationManager.AppSettings["ad_sense_url"];
    }
    @if (!string.IsNullOrWhiteSpace(adSenseCode) && !string.IsNullOrWhiteSpace(adSenseUrl))
    {
        <script>
            (function (i, s, o, g, r, a, m) {
                i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
                    (i[r].q = i[r].q || []).push(arguments)
                }, i[r].l = 1 * new Date(); a = s.createElement(o),
                m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
            })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

            ga('create', '@adSenseCode', '@adSenseUrl');
            ga('send', 'pageview');

        </script>
    }
</head>

<body>

    <!-- Fixed navbar -->
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">whattrain.co.uk</a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                </ul>
            </div><!--/.nav-collapse -->
        </div>
    </div>

    <div class="container">

        <!-- Main component for a primary marketing message or call to action -->
        <div class="jumbotron">
            <h1><a href="http://www.trainnotifier.co.uk/search/at/WVH" target="_blank" title="View full schedule">Wolverhampton</a></h1>
            <div class="row" style="overflow:auto;">
                @Html.Raw(File.ReadAllText(Server.MapPath("~/Content/app/svg/wvh.svg")))
            </div>
            <div class="row">
                <div class="alert alert-info">Click on an identifier (e.g. 1D56) to view more train details</div>
                <div class="alert alert-info">More stations to be added in due time</div>
            </div>
        </div>
        @{
            var adClient = System.Configuration.ConfigurationManager.AppSettings["ad_client"];
            var adSlot = System.Configuration.ConfigurationManager.AppSettings["ad_slot"];
        }
        @if (!string.IsNullOrWhiteSpace(adClient) && !string.IsNullOrWhiteSpace(adSlot))
        {
            <style>
                .whattrain-responsive {
                    width: 320px;
                    height: 50px;
                }

                @@media(min-width: 500px) {
                    .whattrain-responsive {
                        width: 468px;
                        height: 60px;
                    }
                }

                @@media(min-width: 800px) {
                    .whattrain-responsive {
                        width: 728px;
                        height: 90px;
                    }
                }
            </style>
            <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
			<!-- whattrain-responsive -->
            <ins class="adsbygoogle whattrain-responsive"
                 style="display:inline-block"
                 data-ad-client="@adClient"
                 data-ad-slot="@adSlot"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        }
    </div>
    <div class="container">
        <hr />
        <footer>
            <p>
                Copyright &copy; Michael Pritchard 2014. <a href="https://twitter.com/blueghostuk" class="twitter-follow-button" data-show-count="false">Follow @@blueghostuk</a>
                <script>!function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (!d.getElementById(id)) { js = d.createElement(s); js.id = id; js.src = "//platform.twitter.com/widgets.js"; fjs.parentNode.insertBefore(js, fjs); } }(document, "script", "twitter-wjs");</script>
                <br />
                Contains information of Network Rail Infrastructure Limited licensed under the following licence:
                <a href="http://www.networkrail.co.uk/data-feeds/terms-and-conditions" target="_blank" title="Opens in new window"><i class="icon-share-alt" title="Opens in new window"></i>www.networkrail.co.uk/data-feeds/terms-and-conditions</a>
            </p>
        </footer>
    </div>
    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/knockout")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/moment")
    @Scripts.Render("~/bundles/app")
    <script type="text/javascript">
        TrainNotifier.Common.serverSettings = {
            apiUrl: "@System.Configuration.ConfigurationManager.AppSettings["apiUrl"]",
            wsUrl: "@System.Configuration.ConfigurationManager.AppSettings["wsUrl"]",
            apiName: "@System.Configuration.ConfigurationManager.AppSettings["apiName"]"
        };
    </script>
</body>
</html>
